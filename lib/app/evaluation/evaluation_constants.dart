
import '../database_constants.dart';
import '../participant/participant_constants.dart';
import '../evaluator/evaluator_constants.dart';

const ID_EVALUATION = "evaluation_id";
const EVALUATION_DATE = "evaluation_date";
const ID_EVALUATOR_FK = ID_EVALUATOR;
const ID_PARTICIPANT_FK = ID_PARTICIPANT;
const EVALUATION_STATUS = "status";
const LANGUAGE = "language";


const SCRIPT_CREATE_TABLE_EVALUATIONS = '''
  CREATE TABLE $TABLE_EVALUATIONS
  (
    $ID_EVALUATION INTEGER PRIMARY KEY AUTOINCREMENT,
    $EVALUATION_DATE TIMESTAMP NOT NULL,
    $ID_EVALUATOR_FK INTEGER NOT NULL,
    $ID_PARTICIPANT_FK INTEGER UNIQUE NOT NULL,
    $EVALUATION_STATUS INT CHECK($EVALUATION_STATUS >= 0 AND $EVALUATION_STATUS <= 3) NOT NULL,
    $LANGUAGE INT CHECK($LANGUAGE >= 1 AND $LANGUAGE <= 3),
    FOREIGN KEY ($ID_EVALUATOR_FK) REFERENCES $TABLE_EVALUATORS($ID_EVALUATOR),
    FOREIGN KEY ($ID_PARTICIPANT_FK) REFERENCES $TABLE_PARTICIPANTS($ID_PARTICIPANT)
  )
''';

